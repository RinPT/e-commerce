Table users {
  user_id int [pk, increment]
  name varchar(32)
  surname varchar(64)
  username varchar(64) [unique]
  email varchar(96) [unique]
  password varchar(64)
  photo string
  status tinyint(1)
  user_group json
  store json
  ip_address varchar(40)
  created_at timestamp
  updated_at timestamp
}

Table user_address {
  address_id int [pk, increment]
  user_id int [not null, unique]
  name varchar(32)
  surname varchar(64)
  user_type enum
  company varchar(64)
  tax_no varchar(128)
  country_id int [not null]
  city varchar(255)
  address varchar(255)
  address_type varchar(32)
  postcode varchar(255)
  telephone varchar(32)
  created_at timestamp
  updated_at timestamp
}

Ref: "users"."user_id" < "user_address"."user_id"

Table user_wishlist {
  whish_id int [pk, increment]
  user_id int
  product_id int
  created_at timestamp
  updated_at timestamp
}


Table countries {
  country_id int [pk, increment]
  name varchar(255)
  iso_code varchar(2)
  status tinyint(1)
}

Ref: "countries"."country_id" < "user_address"."country_id"

Table groups {
  group_id int [pk, increment]
  name varchar(32)
  permissions longtext
  created_at timestamp
  updated_at timestamp
}

Table authors {
  author_id int [pk, increment]
  name varchar(32)
  surname varchar(64)
  username varchar(64)
  email varchar(96)
  password varchar(64)
  permissions longtext
  status tinyint
  created_at timestamp
  updated_at timestamp
}

Ref: "groups"."group_id" < "users"."user_group"

Table perms {
  perm_id int [pk, increment]
  perm_name varchar(32)
  created_at timestamp
  updated_at timestamp
}

Ref: "perms"."perm_id" < "groups"."permissions"

Ref: "perms"."perm_id" < "authors"."permissions"

Table store {
  store_id int [pk, increment]
  name string
  logo string
  url string
  tax_no varchar(128)
  country_id int
  city varchar(255)
  address text
  telephone varchar(32)
  status tintint
  created_at timestamp
  updated_at timestamp
}

Ref: "store"."store_id" < "users"."store"

Table categories {
  category_id int [pk, increment]
  name string
  description text
  image text
  meta_title string
  meta_keyword string
  meta_description text
  parent_id int 
  sort_order int
  status tinyint
  created_at timestamp
  updated_at timestamp
}

Table products {
  product_id int [pk,increment]
  store_id int
  name varchar(32)
  category int 
  description longtext
  price int
  cargo_price int
  currency_id int
  created_at timestamp
  updated_at timestamp
}

Table product_stock {
  product_id int [pk,increment]
  name text
  stock int
  created_at timestamp
  updated_at timestamp
}

Table product_attribute {
  attribute_id int [pk,increment]
  product_id int
  name varchar(32)
  value int 
  created_at timestamp
  updated_at timestamp
}

Table product_images {
  image_id int [pk,increment]
  product_id int
  img text
  created_at timestamp
  updated_at timestamp
}

Table product_discount {
  discount_id int [pk,increment]
  product_id int
  store_discount int
  main_discount int
  description text
  start_date timestamp
  end_date timestamp
  created_at timestamp
  updated_at timestamp
}

Table product_coupone {
  coupon_id int [pk,increment]
  product_id int
  code string
  rate int
  price int
  finish_date datetime
  created_at timestamp
  updated_at timestamp
}

Table category_discount {
  discount_id int [pk,increment]
  category_id int
  store_discount int
  main_discount int
  description text
  start_date timestamp
  end_date timestamp
  created_at timestamp
  updated_at timestamp
}

Table store_discount {
  discount_id int [pk,increment]
  store_id int
  store_discount int
  main_discount int
  description text
  start_date timestamp
  end_date timestamp
  created_at timestamp
  updated_at timestamp
}

Table product_options {
  option_id int [pk,increment]
  product_id int
  name varchar(32)
  value int
  is_stock_value tinyint
  created_at timestamp
  updated_at timestamp
}

Table product_comments {
  comment_id bigint [pk, increment]
  product_id bigint
  user_id bigint
  comment text
  product_rate enum
  cargo_rate enum
  created_at timestamp
  updated_at timestamp
}

Table currencies {
  currency_id int [pk,increment]
  name string
  code varchar
  prefix varchar
  suffix varchar
  rate int
  status int
}

Table complains {
  complain_id int [pk,increment]
  sender_uid int
  product_id int
  message text
  status enum('okunmadi','tamamlandi','tamamlanmadi','...')
  created_at timestamp
  updated_at timestamp
}

Table config {
  config_id int [pk,increment]
  key string
  value string
}

Table order {
  order_id int [pk,increment]
  store_id int
  store_name string
  store_url string
  user_id int
  user_type enum
  name string
  surname string
  username string
  email string
  comment text
  total decimal
  order_status enum('kabul','red')
  currency_code string
  ip_address string
  user_agent text
  created_at timestamp
  updated_at timestamp
}

Table order_payment {
  payment_id int [pk,increment]
  order_id int
  payment_name string
  payment_surname string
  payment_user_type enum
  payment_company string
  payment_tax_no string
  payment_country_name string
  payment_city_name string
  payment_address string
  payment_post_code string
  payment_telephone string
  payment_method int
  payment_bank varchar(20)
  payment_status tinyint
}

Table order_shipping {
  shipping_id int [pk,increment]
  order_id int
  shipping_name string
  shipping_surname string
  shipping_user_type enum
  shipping_company string
  shipping_tax_no string
  shipping_country_name string
  shipping_city_name string
  shipping_address string
  shipping_post_code string
  shipping_telephone string
  shipping_method enum('temasli','temassiz')
  shipping_status enum('yolda','geldi')
}

Table tickets {
  ticket_id int [pk,increment]
  department_id int
  store_id int
  title text
  message text
  status enum('')
  urgency enum('')
  attachments json
  store_unread tinyint
  author_unread tinyint
  created_at timestamp
  updated_at timestamp
}

Table ticket_departments {
  department_id int [pk,increment]
  ticket_id int
  name string
  description text
  status tinyint
}

Table ticket_department_cfields {
  ticket_dep_cfield_id int [pk,increment]
  ticket_dep_id int
  name string
  type string
  description text
  select_options text
  required tinyint
}

Table ticket_replies {
  ticket_reply_id int [pk,increment]
  ticket_id int
  store_id int
  author_id int
  rate int
  attachments json
  created_at timestamp
  updated_at timestamp
}

Table adversitements {
  adv_id bigint [pk, increment]
  category_id int
  image text
  created_at timestamp
  updated_at timestamp
}

Table activtiy_logs {
  log_id int [pk, increment]
  user_id int
  username string
  author_id int
  description text
  ip_address text
  created_at timestamp
}

Table ticket_logs {
  log_id int [pk, increment]
  ticket_id int
  user_id int
  username string
  author_id int
  description text
  ip_address text
  created_at timestamp
}

Ref: "products"."store_id" < "store"."store_id"

Ref: "products"."category" < "categories"."category_id"

Ref: "products"."product_id" < "product_attribute"."product_id"

Ref: "products"."product_id" < "product_images"."product_id"

Ref: "product_options"."product_id" < "products"."product_id"

Ref: "products"."product_id" < "product_stock"."product_id"

Ref: "product_stock"."name" < "product_options"."value"

Ref: "categories"."category_id" < "category_discount"."category_id"

Ref: "store"."store_id" < "store_discount"."store_id"

Ref: "products"."product_id" < "product_discount"."product_id"

Ref: "currencies"."currency_id" < "products"."currency_id"

Ref: "products"."product_id" < "product_comments"."product_id"

Ref: "users"."user_id" < "user_wishlist"."user_id"

Ref: "users"."user_id" < "complains"."sender_uid"

Ref: "products"."product_id" < "complains"."product_id"

Ref: "order"."order_id" < "order_shipping"."order_id"

Ref: "order"."order_id" < "order_payment"."order_id"

Ref: "products"."product_id" < "product_coupone"."product_id"

Ref: "ticket_departments"."department_id" < "ticket_department_cfields"."ticket_dep_id"

Ref: "ticket_departments"."department_id" < "tickets"."department_id"

Ref: "tickets"."ticket_id" < "ticket_replies"."ticket_id"

Ref: "store"."store_id" < "ticket_replies"."store_id"

Ref: "categories"."category_id" < "adversitements"."category_id"